<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>linux curl 命令详解，以及实例 | Pyinx Blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="curl,linux,命令," />
  

  <meta name="description" content="&amp;nbsp;


linux curl 命令详解，以及实例&amp;nbsp;


&amp;nbsp;
linux curl是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称url为下载工具。 
一，curl命令参数，有好多我没有用过，也不知道翻译的对不对，如果有误的地方，还请指正。



-a/–append 上传文件时，附加到目标文件   
-A/">
<meta property="og:type" content="article">
<meta property="og:title" content="linux curl 命令详解，以及实例">
<meta property="og:url" content="http://blog.itsir.org/2012/05/21/175/index.html">
<meta property="og:site_name" content="Pyinx Blog">
<meta property="og:description" content="&amp;nbsp;


linux curl 命令详解，以及实例&amp;nbsp;


&amp;nbsp;
linux curl是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称url为下载工具。 
一，curl命令参数，有好多我没有用过，也不知道翻译的对不对，如果有误的地方，还请指正。



-a/–append 上传文件时，附加到目标文件   
-A/">
<meta property="og:updated_time" content="2015-08-06T02:38:30.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux curl 命令详解，以及实例">
<meta name="twitter:description" content="&amp;nbsp;


linux curl 命令详解，以及实例&amp;nbsp;


&amp;nbsp;
linux curl是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称url为下载工具。 
一，curl命令参数，有好多我没有用过，也不知道翻译的对不对，如果有误的地方，还请指正。



-a/–append 上传文件时，附加到目标文件   
-A/">
  
  

  


  <link rel="stylesheet" href="/css/styles.css" type="text/css">
  

  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?57e94d016e201fba3603a8a2b0263af0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


</head>

<body>
  <div class="content-post">
  <a class="avatar" href="/archives">
    <img src="/images/avatar.jpg" alt="" />
  </a>
  <article id="post-175" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    <a class="post-title" href="/2012/05/21/175/">linux curl 命令详解，以及实例</a>

  </header>

  <div class="article-meta">
    <span>2012-05-21</span>

    <span> | </span>

    <span class="article-author">pyinx</span>

    <span> | </span>

    
  <span class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </span>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>&nbsp;</p>
<div>

<h1 id="linux_curl_命令详解，以及实例">linux curl 命令详解，以及实例</h1><p></p></div><br>&nbsp;<p></p>
<div>

<p>&nbsp;</p>
<p>linux curl是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称url为下载工具。 </p>
<p></p></div><br><strong>一，curl命令参数，有好多我没有用过，也不知道翻译的对不对，如果有误的地方，还请指正。</strong><p></p>
<p><div></div></p>
<blockquote>
<ol>
<li>-a/–append 上传文件时，附加到目标文件   </li>
<li>-A/–user-agent &lt;string&gt;  设置用户代理发送给服务器   </li>
<li><ul>
<li>anyauth   可以使用“任何”身份验证方法   </li>
</ul>
</li>
<li>-b/–cookie &lt;name=string/file&gt; cookie字符串或文件读取位置   </li>
<li><ul>
<li>basic 使用HTTP基本验证   </li>
</ul>
</li>
<li>-B/–use-ascii 使用ASCII /文本传输   </li>
<li>-c/–cookie-jar &lt;file&gt; 操作结束后把cookie写入到这个文件中   </li>
<li>-C/–continue-at &lt;offset&gt;  断点续转   </li>
<li>-d/–data &lt;data&gt;   HTTP POST方式传送数据   </li>
<li>–data-ascii &lt;data&gt;  以ascii的方式post数据   </li>
<li>–data-binary &lt;data&gt; 以二进制的方式post数据   </li>
<li>–negotiate     使用HTTP身份验证   </li>
<li>–digest        使用数字身份验证   </li>
<li>–disable-eprt  禁止使用EPRT或LPRT   </li>
<li>–disable-epsv  禁止使用EPSV   </li>
<li>-D/–dump-header &lt;file&gt; 把header信息写入到该文件中   </li>
<li>–egd-file &lt;file&gt; 为随机数据(SSL)设置EGD socket路径   </li>
<li>–tcp-nodelay   使用TCP_NODELAY选项   </li>
<li>-e/–referer 来源网址   </li>
<li>-E/–cert &lt;cert[:passwd]&gt; 客户端证书文件和密码 (SSL)   </li>
<li>–cert-type &lt;type&gt; 证书文件类型 (DER/PEM/ENG) (SSL)   </li>
<li>–key &lt;key&gt;     私钥文件名 (SSL)   </li>
<li>–key-type &lt;type&gt; 私钥文件类型 (DER/PEM/ENG) (SSL)   </li>
<li>–pass  &lt;pass&gt;  私钥密码 (SSL)   </li>
<li>–engine &lt;eng&gt;  加密引擎使用 (SSL). “–engine list” for list   </li>
<li>–cacert &lt;file&gt; CA证书 (SSL)   </li>
<li>–capath &lt;directory&gt; CA目录 (made using c_rehash) to verify peer against (SSL)   </li>
<li>–ciphers &lt;list&gt;  SSL密码   </li>
<li>–compressed    要求返回是压缩的形势 (using deflate or gzip)   </li>
<li>–connect-timeout &lt;seconds&gt; 设置最大请求时间   </li>
<li>–create-dirs   建立本地目录的目录层次结构   </li>
<li>–crlf          上传是把LF转变成CRLF   </li>
<li>-f/–fail          连接失败时不显示http错误   </li>
<li>–ftp-create-dirs 如果远程目录不存在，创建远程目录   </li>
<li>–ftp-method [multicwd/nocwd/singlecwd] 控制CWD的使用   </li>
<li>–ftp-pasv      使用 PASV/EPSV 代替端口   </li>
<li>–ftp-skip-pasv-ip 使用PASV的时候,忽略该IP地址   </li>
<li>–ftp-ssl       尝试用 SSL/TLS 来进行ftp数据传输   </li>
<li>–ftp-ssl-reqd  要求用 SSL/TLS 来进行ftp数据传输   </li>
<li>-F/–form &lt;name=content&gt; 模拟http表单提交数据   </li>
<li>-form-string &lt;name=string&gt; 模拟http表单提交数据   </li>
<li>-g/–globoff 禁用网址序列和范围使用{}和[]   </li>
<li>-G/–get 以get的方式来发送数据   </li>
<li>-h/–help 帮助   </li>
<li>-H/–header &lt;line&gt;自定义头信息传递给服务器   </li>
<li>–ignore-content-length  忽略的HTTP头信息的长度   </li>
<li>-i/–include 输出时包括protocol头信息   </li>
<li>-I/–head  只显示文档信息   </li>
<li>从文件中读取-j/–junk-session-cookies忽略会话Cookie   </li>
<li><ul>
<li>界面&lt;interface&gt;指定网络接口/地址使用   </li>
</ul>
</li>
<li><ul>
<li>krb4 &lt;级别&gt;启用与指定的安全级别krb4   </li>
</ul>
</li>
<li>-j/–junk-session-cookies 读取文件进忽略session cookie   </li>
<li>–interface &lt;interface&gt; 使用指定网络接口/地址   </li>
<li>–krb4 &lt;level&gt;  使用指定安全级别的krb4   </li>
<li>-k/–insecure 允许不使用证书到SSL站点   </li>
<li>-K/–config  指定的配置文件读取   </li>
<li>-l/–list-only 列出ftp目录下的文件名称   </li>
<li>–limit-rate &lt;rate&gt; 设置传输速度   </li>
<li>–local-port&lt;NUM&gt; 强制使用本地端口号   </li>
<li>-m/–max-time &lt;seconds&gt; 设置最大传输时间   </li>
<li>–max-redirs &lt;num&gt; 设置最大读取的目录数   </li>
<li>–max-filesize &lt;bytes&gt; 设置最大下载的文件总量   </li>
<li>-M/–manual  显示全手动   </li>
<li>-n/–netrc 从netrc文件中读取用户名和密码   </li>
<li>–netrc-optional 使用 .netrc 或者 URL来覆盖-n   </li>
<li>–ntlm          使用 HTTP NTLM 身份验证   </li>
<li>-N/–no-buffer 禁用缓冲输出   </li>
<li>-o/–output 把输出写到该文件中   </li>
<li>-O/–remote-name 把输出写到该文件中，保留远程文件的文件名   </li>
<li>-p/–proxytunnel   使用HTTP代理   </li>
<li>–proxy-anyauth 选择任一代理身份验证方法   </li>
<li>–proxy-basic   在代理上使用基本身份验证   </li>
<li>–proxy-digest  在代理上使用数字身份验证   </li>
<li>–proxy-ntlm    在代理上使用ntlm身份验证   </li>
<li>-P/–ftp-port &lt;address&gt; 使用端口地址，而不是使用PASV   </li>
<li>-Q/–quote &lt;cmd&gt;文件传输前，发送命令到服务器   </li>
<li>-r/–range &lt;range&gt;检索来自HTTP/1.1或FTP服务器字节范围   </li>
<li>–range-file 读取（SSL）的随机文件   </li>
<li>-R/–remote-time   在本地生成文件时，保留远程文件时间   </li>
<li>–retry &lt;num&gt;   传输出现问题时，重试的次数   </li>
<li>–retry-delay &lt;seconds&gt;  传输出现问题时，设置重试间隔时间   </li>
<li>–retry-max-time &lt;seconds&gt; 传输出现问题时，设置最大重试时间   </li>
<li>-s/–silent静音模式。不输出任何东西   </li>
<li>-S/–show-error   显示错误   </li>
<li>–socks4 &lt;host[:port]&gt; 用socks4代理给定主机和端口   </li>
<li>–socks5 &lt;host[:port]&gt; 用socks5代理给定主机和端口   </li>
<li>–stderr &lt;file&gt;   </li>
<li>-t/–telnet-option &lt;OPT=val&gt; Telnet选项设置   </li>
<li>–trace &lt;file&gt;  对指定文件进行debug   </li>
<li>–trace-ascii &lt;file&gt; Like –跟踪但没有hex输出   </li>
<li>–trace-time    跟踪/详细输出时，添加时间戳   </li>
<li>-T/–upload-file &lt;file&gt; 上传文件   </li>
<li>–url &lt;URL&gt;     Spet URL to work with   </li>
<li>-u/–user &lt;user[:password]&gt;设置服务器的用户和密码   </li>
<li>-U/–proxy-user &lt;user[:password]&gt;设置代理用户名和密码   </li>
<li>-v/–verbose   </li>
<li>-V/–version 显示版本信息   </li>
<li>-w/–write-out [format]什么输出完成后   </li>
<li>-x/–proxy &lt;host[:port]&gt;在给定的端口上使用HTTP代理   </li>
<li>-X/–request &lt;command&gt;指定什么命令   </li>
<li>-y/–speed-time 放弃限速所要的时间。默认为30   </li>
<li>-Y/–speed-limit 停止传输速度的限制，速度时间’秒   </li>
<li>-z/–time-cond  传送时间设置   </li>
<li>-0/–http1.0  使用HTTP 1.0   </li>
<li>-1/–tlsv1  使用TLSv1（SSL）   </li>
<li>-2/–sslv2 使用SSLv2的（SSL）   </li>
<li>-3/–sslv3         使用的SSLv3（SSL）   </li>
<li>–3p-quote      like -Q for the source URL for 3rd party transfer   </li>
<li>–3p-url        使用url，进行第三方传送   </li>
<li>–3p-user       使用用户名和密码，进行第三方传送   </li>
<li>-4/–ipv4   使用IP4   </li>
<li>-6/–ipv6   使用IP6   </li>
<li>-#/–progress-bar 用进度条显示当前的传送状态<br><br><strong>二，常用curl实例</strong></li>
</ol>
</blockquote>
<p><strong>1，抓取页面内容到一个文件中</strong></p>
<p><div></div></p>
<blockquote>
<div>[root@krlcgcms01 mytest]# curl -o home.html  <a href="http://blog.51yip.com" target="_blank" rel="external">http://blog.51yip.com</a>  </div><br><br><strong>2，用-O（大写的），后面的url要具体到某个文件，不然抓不下来。我们还可以用正则来抓取东西</strong><br><div>[root@krlcgcms01 mytest]# curl -O <a href="http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg" target="_blank" rel="external">http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg</a>   </div>

<p>[root@krlcgcms01 mytest]# curl -O <a href="http://blog.51yip.com/wp-content/uploads/2010/[0-9][0-9]/aaaaa.jpg" target="_blank" rel="external">http://blog.51yip.com/wp-content/uploads/2010/[0-9][0-9]/aaaaa.jpg</a><br><strong>3，模拟表单信息，模拟登录，保存cookie信息</strong></p>
<p><div></div></p>
<p><div>[root@krlcgcms01 mytest]# curl -c ./cookie_c.txt -F log=aaaa -F pwd=<strong>**</strong> <a href="http://blog.51yip.com/wp-login.php" target="_blank" rel="external">http://blog.51yip.com/wp-login.php</a>  </div><br><br><strong>4，模拟表单信息，模拟登录，保存头信息</strong></p>
<p><div> </div></p>
<p><pre>[root@krlcgcms01 mytest]# curl -D ./cookie_D.txt -F log=aaaa -F pwd=<strong>**</strong> <a href="http://blog.51yip.com/wp-login.php" target="_blank" rel="external">http://blog.51yip.com/wp-login.php</a></pre><br><strong>-c(小写)产生的cookie和-D里面的cookie是不一样的。</strong></p>
</blockquote>
<p><strong>5，使用cookie文件</strong></p>
<p><div></div></p>
<blockquote>
<div>[root@krlcgcms01 mytest]# curl -b ./cookie_c.txt  <a href="http://blog.51yip.com/wp-admin" target="_blank" rel="external">http://blog.51yip.com/wp-admin</a>  </div><br><br><strong>6，断点续传，-C(大写的)</strong><br><div><br><div>[root@krlcgcms01 mytest]# curl -C -O <a href="http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg" target="_blank" rel="external">http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg</a>  </div><br></div><br><strong>7，传送数据,最好用登录页面测试，因为你传值过去后，curl回抓数据，你可以看到你传值有没有成功</strong><br><div><br><div>[root@krlcgcms01 mytest]# curl -d log=aaaa  <a href="http://blog.51yip.com/wp-login.php" target="_blank" rel="external">http://blog.51yip.com/wp-login.php</a>  </div><br></div><br><strong>8，显示抓取错误，下面这个例子，很清楚的表明了。</strong><br><div> </div>

<p>[root@krlcgcms01 mytest]# curl -f <a href="http://blog.51yip.com/asdf" target="_blank" rel="external">http://blog.51yip.com/asdf</a>   </p>
<p>curl: (22) The requested URL returned error: 404   </p>
<p>[root@krlcgcms01 mytest]# curl <a href="http://blog.51yip.com/asdf" target="_blank" rel="external">http://blog.51yip.com/asdf</a>   </p>
<p>  &lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;404,not found&lt;/TITLE&gt;   </p>
<p>。。。。。。。。。。。。<br><strong>9，伪造来源地址，有的网站会判断，请求来源地址。</strong><br>[root@krlcgcms01 mytest]# curl -e <a href="http://localhost" target="_blank" rel="external">http://localhost</a> <a href="http://blog.51yip.com/wp-login.php" target="_blank" rel="external">http://blog.51yip.com/wp-login.php</a><br><strong>10，当我们经常用curl去搞人家东西的时候，人家会把你的IP给屏蔽掉的,这个时候,我们可以用代理</strong></p>
<p><div></div></p>
<p><div>[root@krlcgcms01 mytest]# curl -x 24.10.28.84:32779 -o home.html <a href="http://blog.51yip.com" target="_blank" rel="external">http://blog.51yip.com</a>  </div><br><br><strong>11，比较大的东西，我们可以分段下载</strong><br>[root@krlcgcms01 mytest]# curl -r 0-100 -o img.part1 <a href="http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg" target="_blank" rel="external">http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg</a></p>
<p>% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</p>
<p>Dload  Upload   Total   Spent    Left  Speed</p>
<p>100   101  100   101    0     0    105      0 –:–:– –:–:– –:–:–     0</p>
<p>[root@krlcgcms01 mytest]# curl -r 100-200 -o img.part2 <a href="http://blog.51yip.com/wp-" target="_blank" rel="external">http://blog.51yip.com/wp-</a></p>
<p>content/uploads/2010/09/compare_varnish.jpg</p>
<p>% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</p>
<p>Dload  Upload   Total   Spent    Left  Speed</p>
<p>100   101  100   101    0     0     57      0  0:00:01  0:00:01 –:–:–     0</p>
<p>[root@krlcgcms01 mytest]# curl -r 200- -o img.part3 <a href="http://blog.51yip.com/wp-" target="_blank" rel="external">http://blog.51yip.com/wp-</a></p>
<p>content/uploads/2010/09/compare_varnish.jpg</p>
<p>% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</p>
<p>Dload  Upload   Total   Spent    Left  Speed</p>
<p>100  104k  100  104k    0     0  52793      0  0:00:02  0:00:02 –:–:– 88961</p>
<p>[root@krlcgcms01 mytest]# ls |grep part | xargs du -sh</p>
<p>4.0K    one.part1</p>
<p>112K    three.part3</p>
<p>4.0K    two.part2oad  Upload   Total   Spent    Left  Speed<br>用的时候，把他们cat一下就OK了,<strong>cat img.part* &gt;img.jpg</strong></p>
</blockquote>
<p><strong>12，不会显示下载进度信息</strong></p>
<p><div></div></p>
<blockquote>
<div>[root@krlcgcms01 mytest]# curl -s -o aaa.jpg  <a href="http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg" target="_blank" rel="external">http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg</a>  </div><br><br><strong>13，显示下载进度条</strong><br><div>[root@krlcgcms01 mytest]# curl -# -O  <a href="http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg" target="_blank" rel="external">http://blog.51yip.com/wp-content/uploads/2010/09/compare_varnish.jpg</a>   </div>

<p>######################################################################## 100.0%<br><strong>14,通过ftp下载文件</strong></p>
<div>[zhangy@BlackGhost ~]$ curl -u 用户名:密码 -O <a href="http://blog.51yip.com/demo/curtain/bbstudy_files/style.css" target="_blank" rel="external">http://blog.51yip.com/demo/curtain/bbstudy_files/style.css</a>   </div>

<p> % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current   </p>
<p>Dload  Upload   Total   Spent    Left  Speed   101  1934  101  1934    0     0   3184 </p>
<pre><code><span class="number">0</span> --<span class="symbol">:--</span><span class="symbol">:--</span> --<span class="symbol">:--</span><span class="symbol">:--</span> --<span class="symbol">:--</span><span class="symbol">:--</span>  <span class="number">7136</span>
</code></pre><p><div>或者用下面的方式</div></p>
<p><div></div></p>
<p><div>[zhangy@BlackGhost ~]$ curl -O ftp://用户名:密码@ip:port/demo/curtain/bbstudy_files/style.css  </div><br><br><strong>15，通过ftp上传</strong></p>
<p><div></div></p>
<p><div>[zhangy@BlackGhost ~]$ curl -T test.sql ftp://用户名:密码@ip:port/demo/curtain/bbstudy_files/  </div><br></p>
<p><div><strong><br>作者:海底苍鹰<br>地址:<a href="http://blog.51yip.com/linux/1049.html" target="_blank" rel="external">http://blog.51yip.com/linux/1049.html</a> </strong></div><br>&nbsp;</p>
</blockquote>

      
    </div>

    
      

    

  </div>
</article>



<section class="disqus-comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>




</div>

  
<script>
  var disqus_shortname = 'pyinx';
  
  var disqus_url = 'http://blog.itsir.org/2012/05/21/175/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"undefined"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0]
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<!-- 多说公共JS代码 end -->

</body>
</html>
